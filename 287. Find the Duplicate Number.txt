assume the array is a[0..n-1] and the elements have range 0..n-2. construct a graph, for each i, add edges i->a[i]. each node has out degree 1, so the whole graph is a set of cycles, where one cycle has a chain pointing to it. To find the duplicate element, we only need to find the place where the chain attach to the cycle. We know n-1 must be in the chain, because no node point to it. use floyd cycle detection by two pointers. O(n) time, O(1) space.
